<div>
  <h3 class="mb-3">{{title}}</h3>
  <p class="text-muted mb-4">{{description}}</p>

  <div class="alert alert-info">
    <strong>What you'll learn:</strong>
    <ul class="mb-0">
      <li>How to register data sources with <code>app.data.register()</code></li>
      <li>How to subscribe to data updates with <code>app.data.on()</code></li>
      <li>How to refresh data with <code>app.data.refresh()</code></li>
      <li>How to get cached data with <code>app.data.get()</code></li>
      <li>Understanding centralized state management and reactive updates</li>
    </ul>
  </div>

  <div class="row mt-4">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header bg-primary text-white">Add Items</div>
        <div class="card-body">
          <div data-component="step4/item_form"></div>
        </div>
      </div>
    </div>
    <div class="col-md-5">
      <div class="card">
        <div class="card-header bg-success text-white">Item List</div>
        <div class="card-body">
          <div data-component="step4/item_list"></div>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-header bg-warning text-dark">Statistics</div>
        <div class="card-body">
          <div data-component="step4/item_counter"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-4 p-3 bg-light rounded">
    <h5>How it works:</h5>
    <ol>
      <li>Data source is registered in <code>index.js</code>: <code>app.data.register('items', callback)</code></li>
      <li>All three components subscribe to 'items': <code>app.data.on('items', handler, this)</code></li>
      <li>When you add an item, the form component calls <code>app.data.refresh('items')</code></li>
      <li>The framework automatically notifies all subscribed components</li>
      <li>All components reload with the new data from <code>app.data.get('items')</code></li>
    </ol>
    <p class="mb-0 mt-3"><strong>Key Benefits:</strong> Single source of truth, automatic synchronization, decoupled components, reactive updates across the entire application.</p>
  </div>

  <div class="mt-4">
    <div data-component="source_viewer" data-props='{"step":"step4"}'></div>
  </div>
</div>
