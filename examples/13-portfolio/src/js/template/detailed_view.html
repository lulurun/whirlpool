{{#if hasHoldings}}
<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-light">
      <tr>
        <th>Exchange</th>
        <th>Symbol</th>
        <th class="text-end">Amount</th>
        <th class="text-end">Price (JPY)</th>
        <th class="text-end">Value (JPY)</th>
        <th class="text-end">% of Portfolio</th>
        <th>Allocation</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#holdings}}
      <tr>
        <td>
          <span class="badge {{#eq exchange "binance"}}bg-warning{{/eq}}{{#eq exchange "coinbase"}}bg-primary{{/eq}}{{#eq exchange "kraken"}}bg-info{{/eq}}{{#eq exchange "bitflyer"}}bg-success{{/eq}}{{#eq exchange "liquid"}}bg-danger{{/eq}}">
            {{exchange}}
          </span>
        </td>
        <td><strong>{{symbol}}</strong></td>
        <td class="text-end monospace">{{formatNumber amount 8}}</td>
        <td class="text-end monospace">{{formatNumber price 2}}</td>
        <td class="text-end monospace text-success"><strong>{{formatNumber jpy_value 0}}</strong></td>
        <td class="text-end monospace">{{formatPercent percentage 2}}</td>
        <td style="min-width: 120px;">
          <div class="progress" style="height: 20px;">
            <div class="progress-bar bg-success" role="progressbar" style="width: {{percentage}}%" aria-valuenow="{{percentage}}" aria-valuemin="0" aria-valuemax="100">
            </div>
          </div>
        </td>
        <td class="text-end">
          <button class="btn btn-sm btn-outline-primary" data-role="show-chart" data-symbol="{{symbol}}">
            <i class="fas fa-chart-line"></i>
          </button>
        </td>
      </tr>
      {{/holdings}}
    </tbody>
    <tfoot class="table-light">
      <tr>
        <th colspan="4" class="text-end">Total:</th>
        <th class="text-end monospace text-success">Â¥{{formatNumber totalValue 0}}</th>
        <th class="text-end">100.00%</th>
        <th colspan="2"></th>
      </tr>
    </tfoot>
  </table>
</div>
{{else}}
<div class="alert alert-info" role="alert">
  <i class="fas fa-info-circle me-2"></i>
  No holdings data available. Click the refresh button to load portfolio data.
</div>
{{/if}}
